(function(t){function i(i){for(var e,n,s=i[0],c=i[1],l=i[2],u=0,f=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&f.push(o[n][0]),o[n]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);d&&d(i);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,i=0;i<r.length;i++){for(var a=r[i],e=!0,s=1;s<a.length;s++){var c=a[s];0!==o[c]&&(e=!1)}e&&(r.splice(i--,1),t=n(n.s=a[0]))}return t}var e={},o={app:0},r=[];function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,i,a){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var e in t)n.d(a,e,function(i){return t[i]}.bind(null,e));return a},n.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=i,s=s.slice();for(var l=0;l<s.length;l++)i(s[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,i,a){t.exports=a("56d7")},"56d7":function(t,i,a){"use strict";a.r(i);a("e260"),a("e6cf"),a("cca6"),a("a79d");var e=a("2b0e"),o=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"white",dark:""}},[a("div",{staticClass:"d-flex align-center black--text"},[a("v-toolbar-title",[t._v("ByteDance Gacha - 抽奖模拟")])],1),a("v-spacer"),a("v-btn",{staticClass:"black--text",attrs:{href:"https://github.com/ssYanhuo",target:"_blank",text:""}},[a("span",{staticClass:"mr-2"},[t._v("Source Code")]),a("v-icon",[t._v("mdi-open-in-new")])],1)],1),a("v-main",[a("Gacha")],1)],1)},r=[],n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-container",[a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"my-8"},[a("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[a("div",{staticStyle:{margin:"64px",width:"300px",height:"300px"}},[a("v-row",[a("v-card",{attrs:{color:t.stateList[0],outlined:"",height:"100px",width:"100px"}},[a("div",{staticClass:"giftCard"},[t._v(t._s(t.giftList[0].name))])]),a("v-card",{attrs:{color:t.stateList[1],outlined:"",height:"100px",width:"100px"}},[a("div",{staticClass:"giftCard"},[t._v(t._s(t.giftList[1].name))])]),a("v-card",{attrs:{color:t.stateList[2],outlined:"",height:"100px",width:"100px"}},[a("div",{staticClass:"giftCard"},[t._v(t._s(t.giftList[2].name))])])],1),a("v-row",[a("v-card",{attrs:{color:t.stateList[7],outlined:"",height:"100px",width:"100px"}},[a("div",{staticClass:"giftCard"},[t._v(t._s(t.giftList[7].name))])]),a("v-card",{attrs:{outlined:"",height:"100px",width:"100px"}},[a("div",{staticClass:"giftCard"},[a("v-btn",{staticStyle:{height:"100%",width:"100%"},attrs:{outlined:"",color:"primary"},on:{click:t.gachaOnce}},[t._v(" 抽奖"),a("br"),t._v("一次"),a("br"),t._v(t._s(t.requiredGold+" 金币")+" ")])],1)]),a("v-card",{attrs:{color:t.stateList[3],outlined:"",height:"100px",width:"100px"}},[a("div",{staticClass:"giftCard"},[t._v(t._s(t.giftList[3].name))])])],1),a("v-row",[a("v-card",{attrs:{color:t.stateList[6],outlined:"",height:"100px",width:"100px"}},[a("div",{staticClass:"giftCard"},[t._v(t._s(t.giftList[6].name))])]),a("v-card",{attrs:{color:t.stateList[5],outlined:"",height:"100px",width:"100px"}},[a("div",{staticClass:"giftCard"},[t._v(t._s(t.giftList[5].name))])]),a("v-card",{attrs:{color:t.stateList[4],outlined:"",height:"100px",width:"100px"}},[a("div",{staticClass:"giftCard"},[t._v(t._s(t.giftList[4].name))])])],1)],1)])],1)],1)],1),a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{outlined:"",color:"primary"}},[t._v(t._s("用户："+t.username))])],1),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{outlined:"",color:"primary"}},[t._v(t._s("剩余金币："+t.userGold))])],1),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(i){return t.addGold(20)}}},[t._v("增加20金币")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(i){t.configDialog=!0}}},[t._v("设置")])],1)],1),a("v-dialog",{attrs:{width:"500px"},model:{value:t.resultDialog,callback:function(i){t.resultDialog=i},expression:"resultDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("抽奖结果")]),a("v-card-text",[t._v(t._s("恭喜获得："+t.result))]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(i){t.resultDialog=!1}}},[t._v("好")])],1)],1)],1),a("v-dialog",{attrs:{width:"500px"},model:{value:t.configDialog,callback:function(i){t.configDialog=i},expression:"configDialog"}},[a("v-card",[a("v-card-title",[t._v("设置")]),a("v-card-text",[a("v-container",[t._l(t.giftList,(function(i,e){return a("v-row",{key:e},[a("v-col",{attrs:{cols:"8"}},[a("v-text-field",{attrs:{label:"奖品 "+(e+1)+" 名称",outlined:""},model:{value:t.config.giftList[e].name,callback:function(i){t.$set(t.config.giftList[e],"name",i)},expression:"config.giftList[i].name"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"奖品 "+(e+1)+" 数量",outlined:""},model:{value:t.config.giftList[e].probability,callback:function(i){t.$set(t.config.giftList[e],"probability",i)},expression:"config.giftList[i].probability"}})],1)],1)})),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"单次抽卡所需金币",outlined:""},model:{value:t.config.gold,callback:function(i){t.$set(t.config,"gold",i)},expression:"config.gold"}})],1)],1)],2)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.changeConfig}},[t._v("好")])],1)],1)],1)],1)},s=[],c=(a("b0c0"),{name:"Gacha",data:function(){return{username:"Loading…",userGold:0,requiredGold:0,giftList:[],stateList:["white","white","white","white","white","white","white","white"],config:{},resultDialog:!1,configDialog:!1,result:""}},mounted:function(){var t=this;t.$axios({url:"/api/getUserdata",method:"GET"}).then((function(i){t.username=i.data.users[0].name,t.userGold=i.data.users[0].gold})),t.$axios({url:"/api/getConfig",method:"GET"}).then((function(i){t.requiredGold=i.data.gold,t.giftList=i.data.giftList,t.config=i.data}))},methods:{addGold:function(t){var i=this;i.$axios({url:"/api/addGold",method:"POST",data:{gold:t}}).then((function(a){i.userGold+=t,console.log(a)})).catch((function(t){console.log(t)}))},showResult:function(t){for(var i=this,a=[0,1,2,3,4,5,6,7,0,1,2,3,4,5,6,7],e=0;e<=t;e++)a.push(e);console.log(a);for(var o=function(t){setTimeout((function(){i.stateList=["white","white","white","white","white","white","white","white"],i.stateList[a[t]]="primary",t===a.length-1&&(i.result=i.giftList[a[t]].name,i.resultDialog=!0)}),100*t)},r=0;r<a.length;r++)o(r)},gachaOnce:function(){var t=this;t.$axios({url:"/api/gachaOnce",method:"GET"}).then((function(i){var a=i.data;a.success?(t.userGold-=t.requiredGold,t.showResult(a.gift)):alert(a.msg)}))},changeConfig:function(){var t=this;t.configDialog=!1,t.$axios({method:"POST",url:"/api/setConfig",data:{config:t.config}}).then((function(){t.requiredGold=t.config.gold,t.giftList=t.config.giftList}))}}}),l=c,d=(a("a690"),a("2877")),u=a("6544"),f=a.n(u),v=a("8336"),g=a("b0af"),p=a("99d9"),h=a("62ad"),x=a("a523"),b=a("169a"),m=a("ce7e"),w=a("0fd9"),_=a("2fa4"),C=a("8654"),y=Object(d["a"])(l,n,s,!1,null,null,null),L=y.exports;f()(y,{VBtn:v["a"],VCard:g["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:h["a"],VContainer:x["a"],VDialog:b["a"],VDivider:m["a"],VRow:w["a"],VSpacer:_["a"],VTextField:C["a"]});var G={name:"App",components:{Gacha:L},data:function(){return{}}},V=G,k=a("7496"),O=a("40dc"),D=a("132d"),T=a("f6c4"),j=a("2a7f"),S=Object(d["a"])(V,o,r,!1,null,null,null),$=S.exports;f()(S,{VApp:k["a"],VAppBar:O["a"],VBtn:v["a"],VIcon:D["a"],VMain:T["a"],VSpacer:_["a"],VToolbarTitle:j["a"]});var P=a("f309");e["a"].use(P["a"]);var q=new P["a"]({}),E=a("bc3a"),M=a.n(E);e["a"].prototype.$axios=M.a,e["a"].config.productionTip=!1,new e["a"]({vuetify:q,render:function(t){return t($)}}).$mount("#app")},a690:function(t,i,a){"use strict";a("b296")},b296:function(t,i,a){}});
//# sourceMappingURL=app.2e55a79f.js.map